(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__3iRwM","ImageGalleryItem-image":"ImageGalleryItem_ImageGalleryItem-image__3CMUD"}},12:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__2s6Dc"}},13:function(e,t,a){e.exports={Button:"Button_Button__2BYYQ"}},17:function(e,t,a){e.exports={loader:"Loader_loader__2hZcM"}},24:function(e,t,a){},25:function(e,t,a){},4:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__2Ep_q",SearchForm:"Searchbar_SearchForm__2I4mE","SearchForm-button":"Searchbar_SearchForm-button__1hOB2","SearchForm-button-label":"Searchbar_SearchForm-button-label__2xw8R","SearchForm-input":"Searchbar_SearchForm-input__2VZGK"}},48:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(6),o=a.n(r),i=(a(24),a(11)),l=a(3),s=(a(25),a(4)),u=a.n(s),m=a(1);var b=function(e){var t=Object(n.useState)(""),a=Object(l.a)(t,2),c=a[0],r=a[1];return Object(m.jsx)("header",{className:u.a.Searchbar,children:Object(m.jsxs)("form",{className:u.a.SearchForm,onSubmit:function(t){t.preventDefault(),e.onSubmit(c),r("")},children:[Object(m.jsx)("button",{type:"submit",className:u.a["SearchForm-button"],children:Object(m.jsx)("span",{className:u.a["SearchForm-button-label"],children:"Search"})}),Object(m.jsx)("input",{className:u.a["SearchForm-input"],type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:c,onChange:function(e){!function(e){r(e.currentTarget.value)}(e)}})]})})},j=a(12),h=a.n(j),d=a(10),g=a.n(d),f=function(e){var t=e.images,a=e.openModal;return t.map((function(e){return Object(m.jsx)("li",{className:g.a.ImageGalleryItem,onClick:function(){a({src:e.largeImageURL,id:e.id})},children:Object(m.jsx)("img",{className:g.a["ImageGalleryItem-image"],src:e.webformatURL,alt:e.id})},e.id)}))},O=function(e){var t=e.hits,a=e.toggleModal;return Object(m.jsx)("ul",{className:h.a.ImageGallery,children:Object(m.jsx)(f,{images:t,openModal:a})})},p=a(13),_=a.n(p),S=function(e){var t=e.incrementPage,a=Object(n.useRef)();return Object(m.jsx)("button",{onClick:function(){t(a)},className:_.a.Button,ref:a,type:"button",children:"Load More"})},x=a(14),v=a(15),y=a(19),I=a(18),M=(a(27),a(16)),F=a.n(M),w=a(17),N=a.n(w),G=function(e){Object(y.a)(a,e);var t=Object(I.a)(a);function a(){return Object(x.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"render",value:function(){return Object(m.jsx)(F.a,{className:N.a.loader,type:"ThreeDots",color:"#00BFFF",height:200,width:200,timeout:1e3})}}]),a}(c.a.Component),k=a(8),B=a.n(k),E=document.querySelector("#modal-root");var C=function(e){var t=e.img,a=e.toggleModal;return Object(n.useEffect)((function(){var e=function(e){"Escape"===e.code&&a()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[a]),Object(r.createPortal)(Object(m.jsxs)("div",{className:B.a.Overlay,onClick:function(e){e.target===e.currentTarget&&a()},children:[Object(m.jsx)(G,{}),Object(m.jsx)("div",{className:B.a.Modal,children:Object(m.jsx)("img",{className:B.a["modal-img"],src:t.src,alt:t.id})})]}),E)};var L=function(e,t){var a="https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&").concat("key=23877606-1096bee22002de3079c9510e6","&image_type=photo&orientation=horizontal&per_page=12");return fetch(a).then((function(e){return e.json()}))};var R=function(){var e=Object(n.useState)(0),t=Object(l.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),o=Object(l.a)(r,2),s=o[0],u=o[1],j=Object(n.useState)(""),h=Object(l.a)(j,2),d=h[0],g=h[1],f=Object(n.useState)("idle"),p=Object(l.a)(f,2),_=p[0],x=p[1],v=Object(n.useState)(!1),y=Object(l.a)(v,2),I=y[0],M=y[1],F=Object(n.useState)({}),w=Object(l.a)(F,2),N=w[0],k=w[1],B=function(e){var t=e||{};M(!I),k(t)};Object(n.useEffect)((function(){0!==a&&L(d,a).then((function(e){return E(e)})).catch((function(e){return console.log(e)}))}),[d,a]);var E=function(e){x("resolved"),u((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e.hits))}))};return Object(m.jsxs)("div",{className:"App",children:[I&&Object(m.jsx)(C,{img:N,toggleModal:B}),Object(m.jsx)(b,{onSubmit:function(e){""!==e.trim()&&e!==d&&(x("pending"),u([]),g(e),c(1))}}),"pending"===_&&Object(m.jsx)(G,{}),""===d.trim()&&Object(m.jsx)("h2",{className:"title",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441 \u0432 \u043f\u043e\u0438\u0441\u043a"}),s.length>0&&Object(m.jsx)(O,{hits:s,toggleModal:B}),s.length>0&&Object(m.jsx)(S,{incrementPage:function(e){x("pending"),c((function(e){return e+1})),setTimeout((function(){e.current.scrollIntoView({behavior:"smooth"})}),500)}})]})};o.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(R,{})}),document.getElementById("root"))},8:function(e,t,a){e.exports={Overlay:"Modal_Overlay__21j6m",Modal:"Modal_Modal__32mLz","modal-img":"Modal_modal-img__1X9qk"}}},[[48,1,2]]]);
//# sourceMappingURL=main.04981a7d.chunk.js.map